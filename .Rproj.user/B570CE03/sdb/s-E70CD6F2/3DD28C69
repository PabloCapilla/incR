{
    "contents" : "#' @title Calculation of onset and end of daily activity.\n#' @description This functins uses the vector of female presence in nest\n#' to calculate onset of daily activity (first off-bout of a day),\n#' and end of daily activity (last on-bout of a day). A column for dates, named \"date\"\n#' is needed in the data argument.\n#' @param data: data frame containing a time-series vector of 1 and 0, where \"1\"\n#' means \"females inside nests\" and \"0\" means \"female\" off the nests. This vector, \n#' under the name of \"inc.vector\" is provided by \\code{\\link{incR_scan}} in the \n#' first object of the returned list. A column named \"date\" is needed to refer to daily\n#' calculations.\n#' @param vector.presence: (character class) name of the vector containing information\n#' for incubating individual presence/ausence of nests.\n#' \n#' @return data frame containing a column (vector) for incubating individual presence/\n#' ausence of nests.\n#' \n#' @examples\n#' \n#' @seealso \\code{\\link{incR_prep}} \\code{\\link{incR_scan}}\n\n\n\nincR_activity <- function (data, vector.presence=NULL) {\n  \n  df01 <- split (data, data$date)\n  data.final <- data.frame (date=rep(NA, length=length(df01)),\n                            onset=rep(NA, length=length(df01)),\n                            offset=rep(NA, length=length(df01)))\n  for (k in 1:length(df01)) {\n    \n    df00 <- df01[[k]] \n    data.final$date[k] <- as.character(unique (df00$date))\n    \n    \n    for (s in 1:length(df00[[vector.presence]])) {\n      if (df00[[vector.presence]][s] == 0) {\n        data.final$onset[k] <- df00$dec.time[s]\n        break()\n      } else {\n        next()\n      }\n    }\n    \n    for (s in 1:length(rev(df00[[vector.presence]]))) {\n      if (rev(df00[[vector.presence]])[s] == 0) {\n        if (head(rev(df00[[vector.presence]]), 1)==0) {\n          data.final$offset[k] <- NA\n        } else {\n          data.final$offset[k] <- rev(df00$dec.time)[s-1]\n        }\n        break()\n      } else {\n        next()\n      }\n    }\n    \n  }\n  \n  return(data.final)\n}",
    "created" : 1461152077146.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4181978520",
    "id" : "3DD28C69",
    "lastKnownWriteTime" : 1461153024,
    "path" : "D:/R development/incR/R/inR_activity.r",
    "project_path" : "R/inR_activity.r",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "type" : "r_source"
}